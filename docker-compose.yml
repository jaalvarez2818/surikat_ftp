services:
  surikat_ftp:
    image: atmoz/sftp
    container_name: surikat_ftp
    restart: always
    volumes:
      - /home/jaalvarez2818/SurikatProjects/surikat-geoserver/geoserver_data:/home/${SFTP_USER}/data
    command: ${SFTP_USER}:${SFTP_PASS}:${SFTP_UID}
    networks:
      - surikat-network
    labels:
      - "traefik.enable=true"
      - "traefik.tcp.routers.sftp.entrypoints=sftp"
      - "traefik.tcp.routers.sftp.rule=HostSNI(`storage.surikat.io`)"
      - "traefik.tcp.routers.sftp.service=sftp-service"
      - "traefik.tcp.services.sftp-service.loadbalancer.server.port=22"

networks:
  surikat-network:
    external: true
